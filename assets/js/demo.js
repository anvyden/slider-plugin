"use strict";(self.webpackChunkslider_plugin=self.webpackChunkslider_plugin||[]).push([[577,975],{546:function(t,e,i){i(553);var n=i(897),o=function(){return o=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},o.apply(this,arguments)},s=function(){function t(t,e){this.state=n.W,this.root=t,this.sliderRoot=e,this.init(),this.bindEventListeners()}return t.prototype.findAllConfigurationItems=function(){this.panel=this.root.querySelector('[data-id="panel"]'),this.max=this.panel.querySelector('[data-item="max"]'),this.min=this.panel.querySelector('[data-item="min"]'),this.step=this.panel.querySelector('[data-item="step"]'),this.from=this.panel.querySelector('[data-item="from"]'),this.to=this.panel.querySelector('[data-item="to"]'),this.orientation=this.panel.querySelector('[data-item="orientation"]'),this.color=this.panel.querySelector('[data-item="color"]'),this.isRange=this.panel.querySelector('[data-item="isRange"]'),this.progressBar=this.panel.querySelector('[data-item="progressBar"]'),this.tooltips=this.panel.querySelector('[data-item="tooltips"]'),this.labels=this.panel.querySelector('[data-item="labels"]'),this.countOfLabels=this.panel.querySelector('[data-item="countOfLabels"]')},t.prototype.init=function(){this.findAllConfigurationItems(),this.setPanelParams()},t.prototype.setPanelParams=function(t){this.state=t?o(o({},this.state),t.detail):this.sliderRoot.sliderPlugin("getState");var e=this.state,i=e.max,n=e.min,s=e.step,r=e.from,a=e.to,l=e.orientation,h=e.color,c=e.isRange,u=e.hasProgressBar,p=e.hasTooltips,d=e.labels,f=d.addLabels,m=d.countOfLabels;this.max.value="".concat(i),this.min.value="".concat(n),this.step.value="".concat(s),this.from.value="".concat(r),this.to.value="".concat(a),this.orientation.value="".concat(l),this.color.value="".concat(h),this.isRange.checked=c,this.progressBar.checked=u,this.tooltips.checked=p,this.labels.checked=f,this.countOfLabels.value="".concat(m);var b=!c;this.to.disabled=b},t.prototype.handleUpdateSlider=function(t){this.setPanelParams(t)},t.prototype.bindEventListeners=function(){this.sliderRoot.sliderPlugin("bindListener","update",this.handleUpdateSlider.bind(this)),this.max.addEventListener("change",this.handleMaxChange.bind(this)),this.min.addEventListener("change",this.handleMinChange.bind(this)),this.step.addEventListener("change",this.handleStepChange.bind(this)),this.from.addEventListener("change",this.handleFromChange.bind(this)),this.to.addEventListener("change",this.handleToChange.bind(this)),this.orientation.addEventListener("change",this.handleOrientationChange.bind(this)),this.color.addEventListener("change",this.handleColorChange.bind(this)),this.isRange.addEventListener("change",this.handleIsRangeChange.bind(this)),this.progressBar.addEventListener("change",this.handleProgressBarChange.bind(this)),this.tooltips.addEventListener("change",this.handleTooltipsChange.bind(this)),this.labels.addEventListener("change",this.handleLabelsChange.bind(this)),this.countOfLabels.addEventListener("change",this.handleCountOfLabelsChange.bind(this))},t.prototype.handleMaxChange=function(){this.sliderRoot.sliderPlugin("setValue","max",Number(this.max.value))},t.prototype.handleMinChange=function(){this.sliderRoot.sliderPlugin("setValue","min",Number(this.min.value))},t.prototype.handleStepChange=function(){this.sliderRoot.sliderPlugin("setValue","step",Number(this.step.value))},t.prototype.handleFromChange=function(){this.sliderRoot.sliderPlugin("setValue","from",Number(this.from.value))},t.prototype.handleToChange=function(){this.sliderRoot.sliderPlugin("setValue","to",Number(this.to.value))},t.prototype.handleOrientationChange=function(){this.sliderRoot.sliderPlugin("setValue","orientation",this.orientation.value)},t.prototype.handleColorChange=function(){this.sliderRoot.sliderPlugin("setValue","color",this.color.value)},t.prototype.handleIsRangeChange=function(){this.sliderRoot.sliderPlugin("setValue","isRange",this.isRange.checked)},t.prototype.handleProgressBarChange=function(){this.sliderRoot.sliderPlugin("setValue","hasProgressBar",this.progressBar.checked)},t.prototype.handleTooltipsChange=function(){this.sliderRoot.sliderPlugin("setValue","hasTooltips",this.tooltips.checked)},t.prototype.handleLabelsChange=function(){this.sliderRoot.sliderPlugin("setValue","addLabels",this.labels.checked)},t.prototype.handleCountOfLabelsChange=function(){this.sliderRoot.sliderPlugin("setValue","countOfLabels",Number(this.countOfLabels.value))},t}(),r=document.querySelector('[data-id="demoBlock1"]'),a=$("#slider1");a.sliderPlugin({isRange:!1}),new s(r,a);var l=document.querySelector('[data-id="demoBlock2"]'),h=$("#slider2");h.sliderPlugin({max:200,min:-200,step:20,from:-100,to:120,isRange:!0,orientation:"vertical",color:"purple",hasTooltips:!0,hasProgressBar:!0,labels:{addLabels:!0,countOfLabels:6}}),new s(l,h);var c=document.querySelector('[data-id="demoBlock3"]'),u=$("#slider3");u.sliderPlugin({max:1.5,min:-1.5,step:.1,from:0,to:1,isRange:!1,orientation:"horizontal",color:"green",hasTooltips:!0,hasProgressBar:!0,labels:{addLabels:!0,countOfLabels:6}}),new s(c,u);var p=document.querySelector('[data-id="demoBlock4"]'),d=$("#slider4");d.sliderPlugin(),new s(p,d)},553:function(t,e,i){var n,o,s,r,a,l=i(897);!function(t){t.STATE_CHANGED="STATE_CHANGED",t.VALUE_CHANGED="VALUE_CHANGED"}(n||(n={})),function(t){t.VALUE_CHANGED="VALUE_CHANGED",t.VALUE_FROM_CHANGED="VALUE_FROM_CHANGED",t.VALUE_TO_CHANGED="VALUE_TO_CHANGED",t.VALUE_FROM_INCREMENT="VALUE_FROM_INCREMENT",t.VALUE_FROM_DECREMENT="VALUE_FROM_DECREMENT",t.VALUE_CHANGED_FROM_LABELS="VALUE_CHANGED_FROM_LABELS"}(o||(o={})),function(t){t.THUMB_VALUE_INCREMENT="THUMB_VALUE_INCREMENT",t.THUMB_VALUE_DECREMENT="THUMB_VALUE_DECREMENT",t.THUMB_VALUE_FROM_CHANGED="THUMB_VALUE_FROM_CHANGED",t.THUMB_VALUE_TO_CHANGED="THUMB_VALUE_TO_CHANGED"}(s||(s={})),function(t){t.LABEL_VALUE_CHANGED="LABEL_VALUE_CHANGED"}(r||(r={})),function(t){t.SCALE_VALUE_CHANGED="SCALE_VALUE_CHANGED"}(a||(a={}));var h,c=function(t,e,i){return 100/((t-e)/i)},u=function(t,e){var i=t.max,n=t.min,o=t.step,s=(e-n)/o*c(i,n,o);return s>100&&(s=100),s<0&&(s=0),s},p=function(t,e){var i=t.max,n=t.min,o=t.step,s=c(i,n,o),r=Number((e/s*o+n).toFixed(2)),a=Number((Math.floor(e/s)*o+n).toFixed(2)),l=Number((Math.ceil(e/s)*o+n).toFixed(2));return l>i&&(l=i),e>=100?i:e<=0?n:r>=Number(((a+l)/2).toFixed(2))?l:a},d=function(t,e,i){var n=e.orientation,o=i.querySelector(".js-slider__scale"),s=m(o),r=s.left,a=s.bottom,l=s.width,h=s.height,c=f(t),u=c.clientX,p=c.clientY;return"horizontal"===n?(u-r)/l*100:(a-p)/h*100},f=function(t){return{clientX:t.clientX,clientY:t.clientY}},m=function(t){var e=t.getBoundingClientRect(),i=e.width,n=e.height,o=e.bottom;return{left:e.left,bottom:o,width:i,height:n}},b=function(t,e,i){if(i||2===arguments.length)for(var n,o=0,s=e.length;o<s;o++)!n&&o in e||(n||(n=Array.prototype.slice.call(e,0,o)),n[o]=e[o]);return t.concat(n||Array.prototype.slice.call(e))},E=function(){function t(){this.observers={}}return t.prototype.subscribe=function(t,e){var i=this.observers[t]||[];this.observers[t]=b(b([],i,!0),[e],!1)},t.prototype.emit=function(t,e){var i;null===(i=this.observers[t])||void 0===i||i.forEach((function(t){return t(e)}))},t}(),v=function(){return v=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},v.apply(this,arguments)},g=function(){function t(){}return t.prototype.checkState=function(t){var e=Object.keys(l.W),i=JSON.parse(JSON.stringify(t));Object.keys(i).forEach((function(t){e.includes(t)||delete i[t]}));var n=i.max,o=i.min,s=i.step,r=i.from,a=i.to,h=i.isRange,c=i.labels,u=c.addLabels,p=c.countOfLabels;return this.max=n,this.min=o,this.step=s,this.from=r,this.to=a,this.countOfLabels=p,this.addLabels=u,this.checkMaxMin(this.max,this.min),this.step=this.checkStep(this.max,this.min,this.step),this.countOfLabels=this.checkCountOfLabels(p),h?this.checkMaxMinRange(this.from,this.to):this.from=this.checkFrom(this.from),v(v({},i),{max:this.max,min:this.min,step:this.step,from:this.from,to:this.to,labels:{addLabels:this.addLabels,countOfLabels:this.countOfLabels}})},t.prototype.checkStep=function(t,e,i){var n=t-e,o=Number(i.toFixed(2));return o<0?l.W.step:(0===o&&(o+=1),o>n?n:o)},t.prototype.checkMaxMin=function(t,e){var i=Number(t.toFixed(2)),n=Number(e.toFixed(2));if(i<n){var o=i;i=n,n=o}i===n&&(i+=1),this.max=i,this.min=n},t.prototype.convertValueToStep=function(t){var e=u({max:this.max,min:this.min,step:this.step},t);return p({max:this.max,min:this.min,step:this.step},e)},t.prototype.checkFromRangeValue=function(t){return t>=this.to&&(t=this.to),t},t.prototype.checkToRangeValue=function(t){return t<=this.from&&(t=this.from),t},t.prototype.checkMaxMinRange=function(t,e){var i=Number(t.toFixed(2)),n=Number(e.toFixed(2)),o=this.convertValueToStep(i),s=this.convertValueToStep(n);if(s<o){var r=o;o=s,s=r}this.from=o,this.to=s},t.prototype.checkFrom=function(t){var e=Number(t.toFixed(2));return this.convertValueToStep(e)},t.prototype.checkCountOfLabels=function(t){var e=Math.round(t);return e>6||e<2?l.W.labels.countOfLabels:e},t}(),_=(h=function(t,e){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},h(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}h(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),y=function(){return y=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},y.apply(this,arguments)},L=function(t){function e(e){var i=t.call(this)||this;return i.state=l.W,i.validation=new g,i.setState(e),i}return _(e,t),e.prototype.setState=function(t){var e=y({},JSON.parse(JSON.stringify(this.state)));this.state=y(y({},e),this.validation.checkState(t)),this.emit(n.STATE_CHANGED,this.state)},e.prototype.getState=function(){return JSON.parse(JSON.stringify(this.state))},e.prototype.setValue=function(t,e){var i=this.checkStateValue(t,e);this.state=y(y({},this.state),this.validation.checkState(i)),"from"===t||"to"===t?this.emit(n.VALUE_CHANGED,this.state):this.emit(n.STATE_CHANGED,this.state)},e.prototype.getValue=function(t){return"addLabels"===t?this.state.labels.addLabels:"countOfLabels"===t?this.state.labels.countOfLabels:JSON.parse(JSON.stringify(this.state))[t]},e.prototype.increment=function(t){var e=this.state[t]+this.state.step,i=this.checkStateValue(t,e);this.state=y(y({},this.state),this.validation.checkState(i)),this.emit(n.VALUE_CHANGED,this.state)},e.prototype.decrement=function(t){var e=this.state[t]-this.state.step,i=this.checkStateValue(t,e);this.state=y(y({},this.state),this.validation.checkState(i)),this.emit(n.VALUE_CHANGED,this.state)},e.prototype.setValueFromPercent=function(t,e){var i=p(this.state,e);this.setValue(t,i)},e.prototype.getOptionByNearValue=function(t){var e=this.state,i=e.isRange,n=e.from,o=e.to;return i&&p(this.state,t)-n>=(o-n)/2?"to":"from"},e.prototype.checkStateValue=function(t,e){var i=y({},JSON.parse(JSON.stringify(this.state))),n="number"==typeof e,o="boolean"==typeof e,s="purple"===e||"green"===e,r="horizontal"===e||"vertical"===e,a="from"===t&&n&&this.state.isRange,l="to"===t&&n,h="from"===t&&n&&!this.state.isRange,c=("max"===t||"min"===t||"step"===t)&&n,u=("hasProgressBar"===t||"hasTooltips"===t||"isRange"===t)&&o,p="color"===t&&s,d="orientation"===t&&r,f="addLabels"===t&&o,m="countOfLabels"===t&&n;return a&&(i.from=this.validation.checkFromRangeValue(e)),l&&(i.to=this.validation.checkToRangeValue(e)),h&&(i.from=this.validation.checkFrom(e)),c&&(i[t]=e),u&&(i[t]=e),p&&(i[t]=e),d&&(i[t]=e),f&&(i.labels.addLabels=e),m&&(i.labels.countOfLabels=e),i},e}(E),A=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),T=function(t){function e(e,i){var n=t.call(this)||this;return n.state=e,n.root=i,n.init(),n}return A(e,t),e.prototype.getScale=function(){return this.scale},e.prototype.init=function(){var t=this.state.orientation,e="vertical"===t?t:"horizontal";this.scale=this.createScale(e),this.scale.addEventListener("pointerdown",this.handleScalePointerDown.bind(this))},e.prototype.createScale=function(t){var e,i=["js-slider__scale","slider__scale","slider__scale--".concat(t)],n=document.createElement("div");return(e=n.classList).add.apply(e,i),n.setAttribute("data-id","scale"),n},e.prototype.handleScalePointerDown=function(t){if(this.isScale(t)){var e=d(t,this.state,this.root);this.emit(a.SCALE_VALUE_CHANGED,Number(e.toFixed(3)))}},e.prototype.isScale=function(t){var e=t.target;return"scale"===e.dataset.id||"progressBar"===e.dataset.id},e}(E),C=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),O=function(t){function e(e,i,n){var o=t.call(this)||this;return o.handleThumbKeyDown=function(t){var e=t.code;"Tab"!==e&&t.preventDefault();var i=o.thumbTarget===s.THUMB_VALUE_TO_CHANGED?"to":"from",n="ArrowLeft"===e||"ArrowDown"===e;("ArrowRight"===e||"ArrowUp"===e)&&o.emit(s.THUMB_VALUE_INCREMENT,i),n&&o.emit(s.THUMB_VALUE_DECREMENT,i)},o.state=e,o.root=i,o.dataId=n,o.thumbsIsReversed=!1,o.init(),o}return C(e,t),e.prototype.getThumb=function(){return this.thumb},e.prototype.getPosition=function(){return this.thumbPosition},e.prototype.getThumbsIsReversed=function(){return this.thumbsIsReversed},e.prototype.dragThumbAfterScaleClick=function(t){this.thumbTarget="to"===t?s.THUMB_VALUE_TO_CHANGED:s.THUMB_VALUE_FROM_CHANGED,this.handleThumbPointerDown()},e.prototype.update=function(t){this.state=t;var e,i=t.orientation,n=t.from,o=t.to,s="vertical"===i?"bottom":"left";e=this.isFirstThumb?n:o,this.thumbPosition=u(this.state,e),this.thumb.style[s]="".concat(this.thumbPosition,"%")},e.prototype.init=function(){var t,e=this.state,i=e.orientation,n=e.color,o=e.from,s=e.to,r="vertical"===i?"bottom":"left";this.thumb=this.createThumb(i,n),t=this.isFirstThumb?o:s,this.thumbPosition=u(this.state,t),this.thumb.style[r]="".concat(this.thumbPosition,"%"),this.thumb.addEventListener("pointerdown",this.setThumbTarget.bind(this)),this.thumb.addEventListener("pointerdown",this.handleThumbPointerDown.bind(this)),this.thumb.addEventListener("keydown",this.setThumbTarget.bind(this)),this.thumb.addEventListener("keydown",this.handleThumbKeyDown.bind(this))},e.prototype.createThumb=function(t,e){var i,n=this.state.isRange?"thumb-first":"thumb",o=this.dataId?this.dataId:n;this.isFirstThumb=o===n;var s=["slider__thumb","slider__thumb--".concat(t),"slider__thumb--".concat(e)],r=document.createElement("div");return(i=r.classList).add.apply(i,s),r.setAttribute("data-id",o),r.setAttribute("tabindex","0"),r.setAttribute("role","slider"),r},e.prototype.handleThumbPointerDown=function(){var t=this,e=this.state,i=e.from,n=e.to,o=e.isRange;o&&(this.isFirstThumb?this.thumbsIsReversed=this.thumbPosition===u(this.state,n):this.thumbsIsReversed=this.thumbPosition===u(this.state,i));var s=function(){document.removeEventListener("pointerup",s),document.removeEventListener("pointermove",r)},r=function(e){e.preventDefault(),t.thumbPosition=d(e,t.state,t.root),o&&t.thumbsIsReversed&&(t.isFirstThumb?t.thumbPosition>u(t.state,n)&&s():t.thumbPosition<u(t.state,i)&&s()),t.emit(t.thumbTarget,Number(t.thumbPosition.toFixed(3)))};document.addEventListener("pointermove",r),document.addEventListener("pointerup",s),this.thumb.ondragstart=function(){return!1}},e.prototype.setThumbTarget=function(t){var e=t.target;this.isFirstThumb="thumb-first"===e.dataset.id||"thumb"===e.dataset.id||"tooltip-first"===e.dataset.id||"tooltip"===e.dataset.id||"tooltip-value"===e.dataset.id||"tooltip-first-value"===e.dataset.id,this.thumbTarget=this.isFirstThumb?s.THUMB_VALUE_FROM_CHANGED:s.THUMB_VALUE_TO_CHANGED},e}(E),N=function(){function t(t){this.state=t,this.init()}return t.prototype.getProgressBar=function(){return this.progressBar},t.prototype.update=function(t){var e=t.orientation,i=t.isRange,n=t.from,o=t.to,s="horizontal"===e?"width":"height",r="horizontal"===e?"left":"bottom";this.setProgressBarValues(r,s,i,n,o)},t.prototype.init=function(){var t=this.state,e=t.orientation,i=t.color,n=t.from,o=t.to,s=t.isRange,r="horizontal"===e?"width":"height",a="horizontal"===e?"left":"bottom";this.progressBar=this.createProgressBar(e,i),this.setProgressBarValues(a,r,s,n,o)},t.prototype.createProgressBar=function(t,e){var i,n=["slider__progress-bar","slider__progress-bar--".concat(t),"slider__progress-bar--".concat(e)],o=document.createElement("div");return(i=o.classList).add.apply(i,n),o.setAttribute("data-id","progressBar"),o},t.prototype.setProgressBarValues=function(t,e,i,n,o){if(i){var s=o-n;this.progressBar.style[t]="".concat(u(this.state,n),"%"),this.progressBar.style[e]="".concat(this.getValueFill(s),"%")}else this.progressBar.style[e]="".concat(u(this.state,n),"%")},t.prototype.getValueFill=function(t){var e=this.state,i=e.max,n=e.min,o=e.step;return t/o*c(i,n,o)},t}(),V=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),R=function(t){function e(e){var i=t.call(this)||this;return i.state=e,i.init(),i}return V(e,t),e.prototype.getLabels=function(){return this.labels},e.prototype.init=function(){var t=this.state,e=t.orientation,i=t.max,n=t.min,o=t.step,s=t.labels.countOfLabels;this.labels=this.createLabels(e,i,n,o,s),this.labels.addEventListener("pointerdown",this.handleLabelsPointerDown.bind(this))},e.prototype.createLabels=function(t,e,i,n,o){var s,r=this.getItems(t,o,e,i,n),a=["slider__labels","slider__labels--".concat(t)],l=document.createElement("div");return(s=l.classList).add.apply(s,a),l.setAttribute("data-id","labels"),r.forEach((function(t){return l.insertAdjacentElement("beforeend",t)})),l},e.prototype.getItems=function(t,e,i,n,o){var s=this,r=[];return new Array(e).fill(0).map((function(t,r){var a=(i-n)/o,l=Math.round(a/(e-1)*r)*o+n,h=Number(u(s.state,l).toFixed(3));return r===e-1?100:h})).filter((function(t,e,i){return i.indexOf(t)===e})).sort((function(t,e){return t-e})).forEach((function(e){var i=p(s.state,e),n=s.createLabel(t,i,e);r.push(n)})),r},e.prototype.createLabel=function(t,e,i){var n="vertical"===t?"bottom":"left",o=document.createElement("div");return o.classList.add("slider__labels-item"),o.setAttribute("data-value","".concat(i)),o.style[n]="".concat(i,"%"),o.innerHTML="".concat(e),o},e.prototype.handleLabelsPointerDown=function(t){var e=t.target,i=Number(e.dataset.value);this.emit(r.LABEL_VALUE_CHANGED,i)},e}(E),S=function(){function t(t,e){this.state=t,this.dataId=e,this.init()}return t.prototype.getTooltip=function(){return this.tooltip},t.prototype.update=function(t){var e=t.from,i=t.to;"tooltip-second"===this.tooltip.dataset.id?this.tooltipValue.textContent="".concat(i):this.tooltipValue.textContent="".concat(e)},t.prototype.init=function(){var t=this.state,e=t.orientation,i=t.color,n=t.from,o=t.to;this.tooltip=this.createTooltip(e,i,n,o)},t.prototype.createTooltip=function(t,e,i,n){var o,s=this.state.isRange,r=s?"tooltip-first":"tooltip",a=this.dataId?this.dataId:r,l=s?"tooltip-first-value":"tooltip-value",h=this.dataId?"".concat(this.dataId,"-value"):l,c=["slider__tooltip","slider__tooltip--".concat(t),"slider__tooltip--".concat(e)],u=document.createElement("div");(o=u.classList).add.apply(o,c),u.dataset.id=a;var p=document.createElement("span");return p.classList.add("slider__tooltip-value"),p.dataset.id=h,p.textContent="".concat("tooltip-second"===a?n:i),this.tooltipValue=p,u.appendChild(p),u},t}(),U=function(){return U=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},U.apply(this,arguments)},P=function(){function t(t,e){this.root=e,this.state=t,this.init()}return t.prototype.getComponents=function(){return this.components},t.prototype.init=function(){var t=this.state.orientation,e=this.createSlider(t);this.components=this.createComponents(),this.scale=this.components.scale.getScale(),e.insertAdjacentElement("beforeend",this.scale),this.addElementsInScale(),this.root.insertAdjacentElement("beforeend",e)},t.prototype.createComponents=function(){var t=this.state.isRange,e={scale:new T(this.state,this.root),thumb:new O(this.state,this.root),progressBar:new N(this.state),labels:new R(this.state),tooltip:new S(this.state)};return t&&(e=U(U({},e),{thumbSecond:new O(this.state,this.root,"thumb-second"),tooltipSecond:new S(this.state,"tooltip-second")})),e},t.prototype.addElementsInScale=function(){var t=this.state,e=t.isRange,i=t.hasProgressBar,n=t.hasTooltips,o=t.labels.addLabels,s=this.components.thumb.getThumb(),r=this.components.progressBar.getProgressBar(),a=this.components.labels.getLabels(),l=this.components.tooltip.getTooltip();if(this.scale.insertAdjacentElement("afterbegin",s),e){var h=this.components.thumbSecond.getThumb();if(n){var c=this.components.tooltipSecond.getTooltip();h.insertAdjacentElement("beforeend",c)}var u=this.checkThumbsPosition()?"afterbegin":"beforeend";this.scale.insertAdjacentElement(u,h)}i&&this.scale.insertAdjacentElement("afterbegin",r),n&&s.insertAdjacentElement("beforeend",l),o&&this.scale.insertAdjacentElement("beforeend",a)},t.prototype.checkThumbsPosition=function(){var t=this.state,e=t.from,i=t.to,n=u(this.state,e),o=u(this.state,i);return 100===n&&100===o},t.prototype.createSlider=function(t){var e,i=["js-slider","slider","slider--".concat(t)],n=document.createElement("div");return(e=n.classList).add.apply(e,i),n},t}(),M=function(){var t=function(e,i){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},t(e,i)};return function(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),w=function(t){function e(e,i){var n=t.call(this)||this;return n.state=e,n.root=i,n.init(e),n}return M(e,t),e.prototype.init=function(t){this.root.innerHTML="";var e=new P(t,this.root);this.sliderComponents=e.getComponents(),this.bindEvents(),t.isRange&&this.createUnitedTooltip(t)},e.prototype.update=function(t){[this.sliderComponents.thumb,this.sliderComponents.progressBar,this.sliderComponents.tooltip,this.sliderComponents.thumbSecond,this.sliderComponents.tooltipSecond].forEach((function(e){e&&e.update(t)})),t.isRange&&this.createUnitedTooltip(t)},e.prototype.setTargetThumb=function(t){var e=this.sliderComponents.thumb,i=this.sliderComponents.thumbSecond;"to"===t?i.dragThumbAfterScaleClick(t):e.dragThumbAfterScaleClick(t)},e.prototype.bindEvents=function(){this.bindThumbEvents(),this.bindLabelsEvents(),this.bindScaleEvents()},e.prototype.bindScaleEvents=function(){var t=this;this.sliderComponents.scale.subscribe(a.SCALE_VALUE_CHANGED,(function(e){t.emit(o.VALUE_CHANGED,e)}))},e.prototype.bindLabelsEvents=function(){var t=this;this.sliderComponents.labels.subscribe(r.LABEL_VALUE_CHANGED,(function(e){t.emit(o.VALUE_CHANGED_FROM_LABELS,e)}))},e.prototype.bindThumbEvents=function(){var t=this,e=this.sliderComponents,i=e.thumb,n=e.thumbSecond;i.subscribe(s.THUMB_VALUE_FROM_CHANGED,(function(e){t.emit(o.VALUE_FROM_CHANGED,e)})),i.subscribe(s.THUMB_VALUE_INCREMENT,(function(e){t.emit(o.VALUE_FROM_INCREMENT,e)})),i.subscribe(s.THUMB_VALUE_DECREMENT,(function(e){t.emit(o.VALUE_FROM_DECREMENT,e)})),n&&(i.subscribe(s.THUMB_VALUE_FROM_CHANGED,(function(e){i.getThumbsIsReversed()&&e>n.getPosition()&&t.setTargetThumb("to")})),n.subscribe(s.THUMB_VALUE_TO_CHANGED,(function(e){t.emit(o.VALUE_TO_CHANGED,e)})),n.subscribe(s.THUMB_VALUE_TO_CHANGED,(function(e){n.getThumbsIsReversed()&&e<i.getPosition()&&t.setTargetThumb("from")})),n.subscribe(s.THUMB_VALUE_INCREMENT,(function(e){t.emit(o.VALUE_FROM_INCREMENT,e)})),n.subscribe(s.THUMB_VALUE_DECREMENT,(function(e){t.emit(o.VALUE_FROM_DECREMENT,e)})))},e.prototype.checkTooltipsOverlap=function(t,e,i){var n=e.getBoundingClientRect(),o=n.right,s=n.top,r=i.getBoundingClientRect(),a=r.left,l=r.bottom;return!!("horizontal"===t&&o>=a||"vertical"===t&&l>=s)},e.prototype.createUnitedTooltip=function(t){var e=t.from,i=t.to,n=t.orientation,o=this.sliderComponents.tooltip,s=this.sliderComponents.tooltipSecond,r=o.getTooltip(),a=s.getTooltip(),l=r.children[0];if(this.checkTooltipsOverlap(n,r,a)){var h="tooltip--united";r.classList.add(h),l.textContent="".concat(e," – ").concat(i),a.style.visibility="hidden"}else{h="tooltip--united";r.classList.remove(h),a.style.visibility="visible"}},e}(E),H=function(){return H=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},H.apply(this,arguments)},B=function(){function t(t,e){this.model=new L(t),this.view=new w(this.model.getState(),e),this.root=e,this.state=t,this.bindModelEvents(),this.bindViewEvents()}return t.prototype.bindModelEvents=function(){var t=this;this.model.subscribe(n.STATE_CHANGED,(function(e){t.view.init(e),t.dispatchUpdateEvent(e)})),this.model.subscribe(n.VALUE_CHANGED,(function(e){t.view.update(e),t.dispatchUpdateEvent(e)}))},t.prototype.bindViewEvents=function(){var t=this;this.view.subscribe(o.VALUE_CHANGED,(function(e){var i=t.model.getOptionByNearValue(e);t.model.setValueFromPercent(i,e),t.view.setTargetThumb(i)})),this.view.subscribe(o.VALUE_CHANGED_FROM_LABELS,(function(e){var i=t.model.getOptionByNearValue(e);t.model.setValueFromPercent(i,e)})),this.view.subscribe(o.VALUE_FROM_CHANGED,(function(e){t.model.setValueFromPercent("from",e)})),this.view.subscribe(o.VALUE_TO_CHANGED,(function(e){t.model.setValueFromPercent("to",e)})),this.view.subscribe(o.VALUE_FROM_INCREMENT,(function(e){t.model.increment(e)})),this.view.subscribe(o.VALUE_FROM_DECREMENT,(function(e){t.model.decrement(e)}))},t.prototype.updateEvent=function(t){var e=this,i=t,n={};return Object.keys(this.state).forEach((function(t){"object"!=typeof e.state[t]?e.state[t]!==i[t]&&(n[t]=i[t]):JSON.stringify(e.state[t])!==JSON.stringify(i[t])&&(n[t]=H({},i[t]))})),this.state=i,new CustomEvent("update",{detail:n})},t.prototype.dispatchUpdateEvent=function(t){this.root.dispatchEvent(this.updateEvent(t))},t}(),D=function(){return D=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},D.apply(this,arguments)},F={init:function(t){return this.each((function(){var e,i=$(this).data("props");e=D(D({},JSON.parse(JSON.stringify(l.W))),i||t),$(this).data("sliderPlugin",new B(e,this))}))},getState:function(){return $(this).data("sliderPlugin").model.getState()},getValue:function(t){return $(this).data("sliderPlugin").model.getValue(t)},setValue:function(t,e){$(this).data("sliderPlugin").model.setValue(t,e)},bindListener:function(t,e){$(this).on(t,e)},removeListener:function(t,e){$(this).off(t,e)}};$.fn.sliderPlugin=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=t[0],n=t.slice(1),o="string"==typeof i&&F[i];if(o)return F[i].apply(this,n);if("object"==typeof i||!i){var s=i||{};return F.init.call(this,s)}$.error('Метод с именем "'.concat(i,'" не существует для sliderPlugin'))}},897:function(t,e,i){i.d(e,{W:function(){return n}});var n={min:0,max:100,step:10,from:20,to:50,orientation:"horizontal",color:"green",isRange:!0,hasProgressBar:!0,hasTooltips:!0,labels:{addLabels:!0,countOfLabels:6}}}},function(t){var e;e=546,t(t.s=e)}]);